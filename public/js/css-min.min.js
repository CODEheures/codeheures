$(function(){function t(){var t=$(window).height();$("body > header").css({height:t})}function e(t){t>=15?$(".navbar").removeClass("full").addClass("shrink"):$(".navbar").removeClass("shrink").addClass("full")}function a(t){var e=1-t/250;$(".header-content").css({opacity:e,"margin-top":t})}function n(){var e=$("a.navbar-logo");e.removeClass("hidden");var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.addClass("animated bounceInLeft").one(a,function(){t()})}function i(t){var e={},a=$("#"+t);return 0==a.length?null:(e.name=t,e.top=Math.abs(a.offset().top/$(document).height()),e)}function s(t){b.removeClass("btn-yellow2"),b.addClass("btn-yellow2-invert"),t.parent().removeClass("btn-yellow2-invert"),t.parent().addClass("btn-yellow2"),w.attr("aria-disabled","false"),w.removeClass("btn-yellow2-invert"),w.addClass("btn-yellow2")}function r(){this.load()}function l(t){$elem=t.target,$($elem).attr("placeholder",$($elem).attr("data-placeholder")),$($elem).parent().addClass("input--filled")}function o(t){$elem=t.target,""===$elem.value.trim()&&($($elem).attr("data-placeholder",$($elem).attr("placeholder")),$($elem).removeAttr("placeholder"),$($elem).parent().removeClass("input--filled"))}var d=$(".navbar-menu"),c=$(".hamburger"),u=$(".alert"),h=$(".navbar-menu a"),p=$("section#user div.purchase table.purchase-table, section#user div.quotation table.quotation-table"),f=$(".tunnel"),v=f.children("section");v.each(function(t){t>0&&$(this).hide()}),$("a[data-from]").click(function(t){t.preventDefault();var e=v.eq($(this).data("from")),a=v.eq($(this).data("to")),n=100*($(this).data("from")-$(this).data("to"));$("html body").animate({scrollTop:e.offset().top},function(){n<0?a.slideDown({start:function(){e.animate({"margin-left":n+"%"},800,function(){e.slideUp(function(){e.css({"margin-left":"0"})})})}}):(a.css({"margin-left":-n+"%"}),a.slideDown({start:function(){a.animate({"margin-left":0},800,"swing",function(){e.slideUp(800)})}}))})}),t(),n(),"block"===c.css("display")&&d.css("display","none"),$(window).resize(function(){"none"===c.css("display")?d.css("display","flex"):d.css("display","none"),t()}),$(window).scroll(function(){var t=$(document).height()-$(window).height(),n=$(window).scrollTop(),s=n/t;e(n),a(n);var r=["accueil","prestations","contact"],l=[];for(var o in r)$def_ancre=i(r[o]),null!=$def_ancre?l.push($def_ancre):null;var d="";for(var o in l)s>=l[o].top&&(d=o);$(".navbar-menu a").each(function(){""!=d&&$(this).attr("href").indexOf("#"+l[d].name)>-1&&!$(this).hasClass("active")&&("contact"!=l[d].name?$(this).trigger("click"):"contact"==l[d].name&&t==n?$(this).trigger("click"):$(this).prev().trigger("click"))});var c=$(".card");c.each(function(){$(this).offset().top-$(window).height()+$(this).height()-n<=0&&$(this).children(".card_description").css({opacity:"1"}).addClass("animated slideInRight"),$(this).offset().top-$(window).height()-n>=0&&$(this).children(".card_description").css({opacity:"0"}).removeClass("animated slideInRight")})}),h.on("click",function(t){h.each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true")}),c.on("click",function(t){t.preventDefault(),"flex"===d.css("display")?d.css("display","none"):d.css("display","flex")}),u.each(function(){$(this).find(".close_btn").on("click",function(){$(this).parent().parent().slideUp(500,function(){$(this).remove()})})}),p.each(function(){$(this).children("tfoot").on("click",function(){$(this).parent().children("tbody").children("tr").each(function(){$(this).fadeToggle(600,function(){t()})}),$(this).find("i").toggleClass("ion-chevron-down"),$(this).find("i").toggleClass("ion-chevron-up")})});var m=0;$('[data-assist="assist1"]').change(function(){var t=$('[data-assist="assist1b"]');if(""==t.val()&&(t.val(1),t.parent().is("span.input--fumi")&&t.parent().addClass("input--filled")),0!=$(this).val())$.ajax("/admin/prestation/"+$(this).val()).done(function(e){m=e.duration;var a=$('[data-isAssistBy="assist1"]');a.attr("max",Math.round(m*t.val()*100)/100),a.val(Math.round(m*t.val()*100)/100),a.parent().is("span.input--fumi")&&(a.parent().addClass("input--filled"),a.attr("data-placeholder","maxi: "+Math.round(m*t.val()*100)/100))});else{m=0;var e=$('[data-isAssistBy="assist1"]');e.parent().is("span.input--fumi")&&(e.parent().addClass("input--filled"),e.attr("data-placeholder","2.4h")),e.attr("max",""),t.val(""),t.parent().is("span.input--fumi")&&t.parent().addClass("input--filled")}}),$('[data-assist="assist1b"]').change(function(){var t=$('[data-assist="assist1"]');if(0!=t.val()){var e=$('[data-isAssistBy="assist1"]');e.attr("max",Math.round(m*$(this).val()*100)/100),e.val(Math.round(m*$(this).val()*100)/100),e.parent().is("span.input--fumi")&&(e.parent().addClass("input--filled"),e.attr("data-placeholder","maxi: "+Math.round(m*$(this).val()*100)/100))}});var g=$('[data-assist="assist2"]');g.mousedown(function(){var t=$(this),e=$(this).parent().children('[data-isAssistBy="assist2"]'),a=function(){window.requestAnimationFrame(function(){e.html("Nouveau quota:"+t.val())})};t.mousemove(function(){a()})}),g.mouseup(function(){var t=$(this);t.unbind("mousemove")});var b=$(".body-price label"),y=$('.body-price input[type="radio"]'),w=$('.form-prices button[type="submit"]');y.each(function(){$(this).prop("checked")&&s($(this))}),y.click(function(t){s($(this))});var C=$("#approuve");if(C.length){var k=$(".payout a"),E=k.attr("href"),A=k.children("img"),x=A.attr("src"),_=x.split("_")[0]+"."+x.split(".")[x.split(".").length-1];k.attr("href",""),C.change(function(t){$(this).prop("checked")?(k.removeClass("disable"),k.attr("href",E),A.attr("src",_)):(k.addClass("disable"),k.attr("href",""),A.attr("src",x))})}var L=document.getElementsByTagName("video");if(L.length)for(var q=0;q<L.length;q++)L[q].addEventListener("ended",r,!1);$("select[multiple]").select2(),String.prototype.trim||!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}(),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",l),t.addEventListener("blur",o)}),[].slice.call(document.querySelectorAll("textarea.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",l),t.addEventListener("blur",o)}),[].slice.call(document.querySelectorAll("select.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",l),t.addEventListener("blur",o)}),window.cookieconsent_options={message:"En poursuivant votre navigation sans modifier vos paramètres, vous acceptez l'utilisation des cookies ou technologies similaires pour disposer de services er d'offres adaptés à vos centres d'interêts ainsi que pour la sécurisation des transactions sur notre site.",dismiss:"OK",learnMore:"Plus d'info",link:"/mentions-legales",theme:null},$("#visite").click(function(t){t.preventDefault();var e=new introJs;e.setOptions({nextLabel:"suivant",prevLabel:"précédent",skipLabel:"passer",showStepNumbers:!0,showProgress:!0,scrollToElement:!0,doneLabel:"Sortir"}),e.start()})});