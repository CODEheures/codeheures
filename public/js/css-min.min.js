$(function(){function t(){var t=$(window).height();$("body > header").css({height:t})}function e(t){t>=15?$(".navbar").removeClass("full").addClass("shrink"):$(".navbar").removeClass("shrink").addClass("full")}function a(t){var e=1-t/250;$(".header-content").css({opacity:e,"margin-top":t})}function i(t){var e={},a=$("#"+t);return 0==a.length?null:(e.name=t,e.top=Math.abs(a.offset().top/$(document).height()),e)}function n(t){$elem=t.target,$($elem).attr("placeholder",$($elem).attr("data-placeholder")),$($elem).parent().addClass("input--filled")}function s(t){$elem=t.target,""===$elem.value.trim()&&($($elem).attr("data-placeholder",$($elem).attr("placeholder")),$($elem).removeAttr("placeholder"),$($elem).parent().removeClass("input--filled"))}var l=$(".navbar-menu"),r=$(".hamburger"),o=$(".alert"),c=$(".navbar-menu a"),d=$("section#user div.purchase table.purchase-table, section#user div.quotation table.quotation-table");$(document).ready(function(){t()}),$(window).resize(function(){t()}),$(window).scroll(function(){var t=$(document).height()-$(window).height(),n=$(window).scrollTop(),s=n/t;e(n),a(n);var l=["accueil","prestations","contact","client"],r=[];for(var o in l)$def_ancre=i(l[o]),null!=$def_ancre?r.push($def_ancre):null;var c="";for(var o in r)s>=r[o].top&&(c=o);$(".navbar-menu a").each(function(){""!=c&&$(this).attr("href").indexOf("#"+r[c].name)>-1&&!$(this).hasClass("active")&&$(this).trigger("click")});var d=$(".card");d.each(function(){$(this).offset().top-$(window).height()+$(this).height()-n<=0&&$(this).children(".card_description").css({opacity:"1"}).addClass("animated slideInRight"),$(this).offset().top-$(window).height()-n>=0&&$(this).children(".card_description").css({opacity:"0"}).removeClass("animated slideInRight")})}),c.on("click",function(t){c.each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true")}),r.on("click",function(t){t.preventDefault(),"flex"===l.css("display")?l.css("display",""):l.css("display","flex")}),o.each(function(){$(this).find(".close_btn").on("click",function(){$(this).parent().parent().slideUp(500,function(){$(this).remove()})})}),d.each(function(){$(this).children("tfoot").on("click",function(){$(this).parent().children("tbody").children("tr").each(function(){$(this).fadeToggle(600,function(){t()})}),$(this).find("i").toggleClass("ion-chevron-down"),$(this).find("i").toggleClass("ion-chevron-up")})}),$('[data-assist="assist1"]').change(function(){0!=$('[data-assist="assist1"]').val()?$.ajax("/admin/prestation/"+$('[data-assist="assist1"]').val()).done(function(t){$assist=$('[data-isAssistBy="assist1"]'),$assist.attr("max",t.duration),$assist.val(t.duration),$assist.parent().is("span.input--fumi")&&($assist.parent().addClass("input--filled"),$assist.attr("data-placeholder","maxi: "+t.duration))}):($assist=$('[data-isAssistBy="assist1"]'),$assist.attr("data-placeholder","2.4"),$assist.attr("max",""))}),$("select[multiple]").select2(),String.prototype.trim||!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}(),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",s)}),[].slice.call(document.querySelectorAll("textarea.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",s)}),[].slice.call(document.querySelectorAll("select.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",s)})});