$(function(){function e(){var e=$(window).height();$("body > header").css({height:e})}function t(e){e>=15?$(".navbar").removeClass("full").addClass("shrink"):$(".navbar").removeClass("shrink").addClass("full")}function a(e){var t=1-e/250;$(".header-content").css({opacity:t,"margin-top":e})}function n(){var t=$("a.navbar-logo");t.removeClass("hidden");var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";t.addClass("animated bounceInLeft").one(a,function(){e()})}function s(e){x.removeClass("btn-yellow2"),x.addClass("btn-yellow2-invert"),e.parent().removeClass("btn-yellow2-invert"),e.parent().addClass("btn-yellow2"),_.attr("aria-disabled","false"),_.removeClass("btn-yellow2-invert"),_.addClass("btn-yellow2")}function i(){this.load()}function r(e){$elem=e.target,$($elem).attr("placeholder",$($elem).attr("data-placeholder")),$($elem).parent().addClass("input--filled")}function l(e){$elem=e.target,""===$elem.value.trim()&&($($elem).attr("data-placeholder",$($elem).attr("placeholder")),$($elem).removeAttr("placeholder"),$($elem).parent().removeClass("input--filled"))}for(var o=$(".navbar-menu"),d=$(".hamburger"),c=$(".alert"),u=$(".navbar-menu a"),p=$("section#user div.purchase table.purchase-table, section#user div.quotation table.quotation-table"),h=["accueil","prestations","contact"],f=[],v=0;v<h.length;v++)f[v]=document.getElementById(h[v]);if(f.length>0)for(var m,g=0,b=0,y=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){if(e[t].intersectionRatio>0)m=h.indexOf(e[t].target.id),g=b,b=m;else{var a=h.indexOf(e[t].target.id);b==a&&(b=g)}var n=$('.navbar-menu a[data-entrie="'+h[b]+'"]');n.hasClass("active")||n.trigger("click")}},{}),v=0;v<f.length;v++)y.observe(f[v]);var w=document.getElementsByClassName("card");if(w.length>0)for(var C=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){var a=$(e[t].target).children(".card_description");0==a.css("opacity")?a.css("opacity",1):a.css("opacity",0),a.toggleClass("animated slideInRight")}},{threshold:.5}),v=0;v<w.length;v++)C.observe(w[v]);$("#main").css("min-height","calc(100vh - "+$("footer").outerHeight()+"px)");var E=$(window).scrollTop();e(),n(),t(E),"block"===d.css("display")&&o.css("display","none"),$(window).resize(function(){E=$(window).scrollTop(),console.log(E),"none"===d.css("display")?o.css("display","flex"):o.css("display","none"),e(),t(E)}),$(window).scroll(function(){E=$(window).scrollTop(),t(E),a(E)}),u.on("click",function(e){u.each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true")}),d.on("click",function(e){e.preventDefault(),"flex"===o.css("display")?o.css("display","none"):o.css("display","flex")}),c.each(function(){$(this).find(".close_btn").on("click",function(){$(this).parent().parent().slideUp(500,function(){$(this).remove()})})}),p.each(function(){$(this).children("tfoot").on("click",function(){$(this).parent().children("tbody").children("tr").each(function(){$(this).fadeToggle(600,function(){e()})}),$(this).find("i").toggleClass("ion-chevron-down"),$(this).find("i").toggleClass("ion-chevron-up")})});var k=0;$('[data-assist="assist1"]').change(function(){var e=$('[data-assist="assist1b"]');if(""==e.val()&&(e.val(1),e.parent().is("span.input--fumi")&&e.parent().addClass("input--filled")),0!=$(this).val())$.ajax("/admin/prestation/"+$(this).val()).done(function(t){k=t.duration;var a=$('[data-isAssistBy="assist1"]');a.attr("max",Math.round(k*e.val()*100)/100),a.val(Math.round(k*e.val()*100)/100),a.parent().is("span.input--fumi")&&(a.parent().addClass("input--filled"),a.attr("data-placeholder","maxi: "+Math.round(k*e.val()*100)/100))});else{k=0;var t=$('[data-isAssistBy="assist1"]');t.parent().is("span.input--fumi")&&(t.parent().addClass("input--filled"),t.attr("data-placeholder","2.4h")),t.attr("max",""),e.val(""),e.parent().is("span.input--fumi")&&e.parent().addClass("input--filled")}}),$('[data-assist="assist1b"]').change(function(){var e=$('[data-assist="assist1"]');if(0!=e.val()){var t=$('[data-isAssistBy="assist1"]');t.attr("max",Math.round(k*$(this).val()*100)/100),t.val(Math.round(k*$(this).val()*100)/100),t.parent().is("span.input--fumi")&&(t.parent().addClass("input--filled"),t.attr("data-placeholder","maxi: "+Math.round(k*$(this).val()*100)/100))}});var A=$('[data-assist="assist2"]');A.mousedown(function(){var e=$(this),t=$(this).parent().children('[data-isAssistBy="assist2"]'),a=function(){window.requestAnimationFrame(function(){t.html("Nouveau quota:"+e.val())})};e.mousemove(function(){a()})}),A.mouseup(function(){var e=$(this);e.unbind("mousemove")});var x=$(".body-price label"),L=$('.body-price input[type="radio"]'),_=$('.form-prices button[type="submit"]');L.each(function(){$(this).prop("checked")&&s($(this))}),L.click(function(e){s($(this))});var q=$("#approuve");if(q.length){var M=$(".payout a"),S=M.attr("href"),B=M.children("img"),F=B.attr("src"),O=F.split("_")[0]+"."+F.split(".")[F.split(".").length-1];M.attr("href",""),q.change(function(e){$(this).prop("checked")?(M.removeClass("disable"),M.attr("href",S),B.attr("src",O)):(M.addClass("disable"),M.attr("href",""),B.attr("src",F))})}var T=document.getElementsByTagName("video");if(T.length)for(var I=0;I<T.length;I++)T[I].addEventListener("ended",i,!1);$("select[multiple]").select2(),String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",r),e.addEventListener("blur",l)}),[].slice.call(document.querySelectorAll("textarea.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",r),e.addEventListener("blur",l)}),[].slice.call(document.querySelectorAll("select.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",r),e.addEventListener("blur",l)}),window.cookieconsent_options={message:"En poursuivant votre navigation sans modifier vos paramètres, vous acceptez l'utilisation des cookies ou technologies similaires pour disposer de services er d'offres adaptés à vos centres d'interêts ainsi que pour la sécurisation des transactions sur notre site.",dismiss:"OK",learnMore:"Plus d'info",link:"/mentions-legales",theme:null},$("#visite").click(function(e){e.preventDefault();var t=new introJs;t.setOptions({nextLabel:"suivant",prevLabel:"précédent",skipLabel:"passer",showStepNumbers:!0,showProgress:!0,scrollToElement:!0,doneLabel:"Sortir"}),t.start()})});