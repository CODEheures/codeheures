$(function(){function e(){var e=$(window).height();$("body > header").css({height:e})}function t(e){e>=15?$(".navbar").removeClass("full").addClass("shrink"):$(".navbar").removeClass("shrink").addClass("full")}function a(e){var t=1-e/250;$(".header-content").css({opacity:t,"margin-top":e})}function n(){var t=$("a.navbar-logo");t.removeClass("hidden");var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";t.addClass("animated bounceInLeft").one(a,function(){e()})}function s(e,t){var a=document.createElement("a");a.href=e.src,$("body > header").css({"background-image":"url("+a.pathname+")"}),e.remove(),t.remove()}function i(e){q.removeClass("btn-yellow2"),q.addClass("btn-yellow2-invert"),e.parent().removeClass("btn-yellow2-invert"),e.parent().addClass("btn-yellow2"),M.attr("aria-disabled","false"),M.removeClass("btn-yellow2-invert"),M.addClass("btn-yellow2")}function r(){this.load()}function l(e){$elem=e.target,$($elem).attr("placeholder",$($elem).attr("data-placeholder")),$($elem).parent().addClass("input--filled")}function o(e){$elem=e.target,""===$elem.value.trim()&&($($elem).attr("data-placeholder",$($elem).attr("placeholder")),$($elem).removeAttr("placeholder"),$($elem).parent().removeClass("input--filled"))}for(var d=$(".navbar-menu"),c=$(".hamburger"),u=$(".alert"),p=$(".navbar-menu a"),h=$("section#user div.purchase table.purchase-table, section#user div.quotation table.quotation-table"),f=["accueil","prestations","contact"],v=[],m=0;m<f.length;m++)v[m]=document.getElementById(f[m]);if(void 0!=document.querySelector("#prestations"))for(var g,b=0,y=0,w=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){if(e[t].intersectionRatio>0)g=f.indexOf(e[t].target.id),b=y,y=g;else{var a=f.indexOf(e[t].target.id);y==a&&(y=b)}var n=$('.navbar-menu a[data-entrie="'+f[y]+'"]');n.hasClass("active")||n.trigger("click")}},{}),m=0;m<v.length;m++)w.observe(v[m]);var C=document.getElementsByClassName("card");if(C.length>0)for(var E=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){var a=$(e[t].target).children(".card_description");0==a.css("opacity")?a.css("opacity",1):a.css("opacity",0),a.toggleClass("animated slideInRight")}},{threshold:.5}),m=0;m<C.length;m++)E.observe(C[m]);var k=document.getElementById("higtResBackgound"),A=document.getElementById("lowResBackgound");if(k&&A){var x=$(k);x.on("load",function(){s(k,A)}),k.complete&&(x.off("load"),s(k,A))}$("#main").css("min-height","calc(100vh - "+$("footer").outerHeight()+"px)");var L=$(window).scrollTop();e(),n(),t(L),"block"===c.css("display")&&d.css("display","none"),$(window).resize(function(){L=$(window).scrollTop(),"none"===c.css("display")?d.css("display","flex"):d.css("display","none"),e(),t(L)}),$(window).scroll(function(){L=$(window).scrollTop(),t(L),a(L)}),p.on("click",function(e){p.each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true")}),c.on("click",function(e){e.preventDefault(),"flex"===d.css("display")?d.css("display","none"):d.css("display","flex")}),u.each(function(){$(this).find(".close_btn").on("click",function(){$(this).parent().parent().slideUp(500,function(){$(this).remove()})})}),h.each(function(){$(this).children("tfoot").on("click",function(){$(this).parent().children("tbody").children("tr").each(function(){$(this).fadeToggle(600,function(){e()})}),$(this).find("i").toggleClass("ion-chevron-down"),$(this).find("i").toggleClass("ion-chevron-up")})});var B=0;$('[data-assist="assist1"]').change(function(){var e=$('[data-assist="assist1b"]');if(""==e.val()&&(e.val(1),e.parent().is("span.input--fumi")&&e.parent().addClass("input--filled")),0!=$(this).val())$.ajax("/admin/prestation/"+$(this).val()).done(function(t){B=t.duration;var a=$('[data-isAssistBy="assist1"]');a.attr("max",Math.round(B*e.val()*100)/100),a.val(Math.round(B*e.val()*100)/100),a.parent().is("span.input--fumi")&&(a.parent().addClass("input--filled"),a.attr("data-placeholder","maxi: "+Math.round(B*e.val()*100)/100))});else{B=0;var t=$('[data-isAssistBy="assist1"]');t.parent().is("span.input--fumi")&&(t.parent().addClass("input--filled"),t.attr("data-placeholder","2.4h")),t.attr("max",""),e.val(""),e.parent().is("span.input--fumi")&&e.parent().addClass("input--filled")}}),$('[data-assist="assist1b"]').change(function(){var e=$('[data-assist="assist1"]');if(0!=e.val()){var t=$('[data-isAssistBy="assist1"]');t.attr("max",Math.round(B*$(this).val()*100)/100),t.val(Math.round(B*$(this).val()*100)/100),t.parent().is("span.input--fumi")&&(t.parent().addClass("input--filled"),t.attr("data-placeholder","maxi: "+Math.round(B*$(this).val()*100)/100))}});var _=$('[data-assist="assist2"]');_.mousedown(function(){var e=$(this),t=$(this).parent().children('[data-isAssistBy="assist2"]'),a=function(){window.requestAnimationFrame(function(){t.html("Nouveau quota:"+e.val())})};e.mousemove(function(){a()})}),_.mouseup(function(){var e=$(this);e.unbind("mousemove")});var q=$(".body-price label"),S=$('.body-price input[type="radio"]'),M=$('.form-prices button[type="submit"]');S.each(function(){$(this).prop("checked")&&i($(this))}),S.click(function(e){i($(this))});var F=$("#approuve");if(F.length){var I=$(".payout a"),O=I.attr("href"),T=I.children("img"),N=T.attr("src"),R=N.split("_")[0]+"."+N.split(".")[N.split(".").length-1];I.attr("href",""),F.change(function(e){$(this).prop("checked")?(I.removeClass("disable"),I.attr("href",O),T.attr("src",R)):(I.addClass("disable"),I.attr("href",""),T.attr("src",N))})}var z=document.getElementsByTagName("video");if(z.length)for(var D=0;D<z.length;D++)z[D].addEventListener("ended",r,!1);$("select[multiple]").select2(),String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",l),e.addEventListener("blur",o)}),[].slice.call(document.querySelectorAll("textarea.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",l),e.addEventListener("blur",o)}),[].slice.call(document.querySelectorAll("select.input__field")).forEach(function(e){""!==e.value.trim()&&$(e).parent().addClass("input--filled"),$(e).attr("data-placeholder",$(e).attr("placeholder")),$(e).removeAttr("placeholder"),e.addEventListener("focus",l),e.addEventListener("blur",o)}),window.cookieconsent_options={message:"En poursuivant votre navigation sans modifier vos paramètres, vous acceptez l'utilisation des cookies ou technologies similaires pour disposer de services er d'offres adaptés à vos centres d'interêts ainsi que pour la sécurisation des transactions sur notre site.",dismiss:"OK",learnMore:"Plus d'info",link:"/mentions-legales",theme:null},$("#visite").click(function(e){e.preventDefault();var t=new introJs;t.setOptions({nextLabel:"suivant",prevLabel:"précédent",skipLabel:"passer",showStepNumbers:!0,showProgress:!0,scrollToElement:!0,doneLabel:"Sortir"}),t.start()})});