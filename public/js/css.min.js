$(function(){function t(){var t=$(window).height();$("body > header").css({height:t})}function e(t){t>=15?$(".navbar").removeClass("full").addClass("shrink"):$(".navbar").removeClass("shrink").addClass("full")}function a(t){var e=1-t/250;$(".header-content").css({opacity:e,"margin-top":t})}function i(t){var e={},a=$("#"+t);return 0==a.length?null:(e.name=t,e.top=Math.abs(a.offset().top/$(document).height()),e)}function s(t){m.removeClass("btn-yellow2"),m.addClass("btn-yellow2-invert"),t.parent().removeClass("btn-yellow2-invert"),t.parent().addClass("btn-yellow2"),b.attr("aria-disabled","false"),b.removeClass("btn-yellow2-invert"),b.addClass("btn-yellow2")}function n(t){$elem=t.target,$($elem).attr("placeholder",$($elem).attr("data-placeholder")),$($elem).parent().addClass("input--filled")}function r(t){$elem=t.target,""===$elem.value.trim()&&($($elem).attr("data-placeholder",$($elem).attr("placeholder")),$($elem).removeAttr("placeholder"),$($elem).parent().removeClass("input--filled"))}var l=$(".navbar-menu"),o=$(".hamburger"),c=$(".alert"),d=$(".navbar-menu a"),u=$("section#user div.purchase table.purchase-table, section#user div.quotation table.quotation-table"),p=$(".tunnel"),h=p.children("section");h.each(function(t){t>0&&$(this).hide()}),$("a[data-from]").click(function(t){t.preventDefault();var e=h.eq($(this).data("from")),a=h.eq($(this).data("to")),i=100*($(this).data("from")-$(this).data("to"));$("html,body").animate({scrollTop:e.offset().top},function(){i<0?a.slideDown({start:function(){e.animate({"margin-left":i+"%"},800,function(){e.slideUp(function(){e.css({"margin-left":"0"})})})}}):(a.css({"margin-left":-i+"%"}),a.slideDown({start:function(){a.animate({"margin-left":0},800,"swing",function(){e.slideUp(800)})}}))})}),t(),"block"===o.css("display")&&l.css("display","none"),$(window).resize(function(){"none"===o.css("display")?l.css("display","flex"):l.css("display","none"),t()}),$(window).scroll(function(){var t=$(document).height()-$(window).height(),s=$(window).scrollTop(),n=s/t;e(s),a(s);var r=["accueil","prestations","contact"],l=[];for(var o in r)$def_ancre=i(r[o]),null!=$def_ancre?l.push($def_ancre):null;var c="";for(var o in l)n>=l[o].top&&(c=o);$(".navbar-menu a").each(function(){""!=c&&$(this).attr("href").indexOf("#"+l[c].name)>-1&&!$(this).hasClass("active")&&("contact"!=l[c].name?$(this).trigger("click"):"contact"==l[c].name&&t==s?$(this).trigger("click"):$(this).prev().trigger("click"))});var d=$(".card");d.each(function(){$(this).offset().top-$(window).height()+$(this).height()-s<=0&&$(this).children(".card_description").css({opacity:"1"}).addClass("animated slideInRight"),$(this).offset().top-$(window).height()-s>=0&&$(this).children(".card_description").css({opacity:"0"}).removeClass("animated slideInRight")})}),d.on("click",function(t){d.each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true")}),o.on("click",function(t){t.preventDefault(),"flex"===l.css("display")?l.css("display","none"):l.css("display","flex")}),c.each(function(){$(this).find(".close_btn").on("click",function(){$(this).parent().parent().slideUp(500,function(){$(this).remove()})})}),u.each(function(){$(this).children("tfoot").on("click",function(){$(this).parent().children("tbody").children("tr").each(function(){$(this).fadeToggle(600,function(){t()})}),$(this).find("i").toggleClass("ion-chevron-down"),$(this).find("i").toggleClass("ion-chevron-up")})});var f=0;$('[data-assist="assist1"]').change(function(){var t=$('[data-assist="assist1b"]');if(""==t.val()&&(t.val(1),t.parent().is("span.input--fumi")&&t.parent().addClass("input--filled")),0!=$(this).val())$.ajax("/admin/prestation/"+$(this).val()).done(function(e){f=e.duration;var a=$('[data-isAssistBy="assist1"]');a.attr("max",Math.round(f*t.val()*100)/100),a.val(Math.round(f*t.val()*100)/100),a.parent().is("span.input--fumi")&&(a.parent().addClass("input--filled"),a.attr("data-placeholder","maxi: "+Math.round(f*t.val()*100)/100))});else{f=0;var e=$('[data-isAssistBy="assist1"]');e.parent().is("span.input--fumi")&&(e.parent().addClass("input--filled"),e.attr("data-placeholder","2.4h")),e.attr("max",""),t.val(""),t.parent().is("span.input--fumi")&&t.parent().addClass("input--filled")}}),$('[data-assist="assist1b"]').change(function(){var t=$('[data-assist="assist1"]');if(0!=t.val()){var e=$('[data-isAssistBy="assist1"]');e.attr("max",Math.round(f*$(this).val()*100)/100),e.val(Math.round(f*$(this).val()*100)/100),e.parent().is("span.input--fumi")&&(e.parent().addClass("input--filled"),e.attr("data-placeholder","maxi: "+Math.round(f*$(this).val()*100)/100))}});var v=$('[data-assist="assist2"]');v.mousedown(function(){var t=$(this),e=$(this).parent().children('[data-isAssistBy="assist2"]'),a=function(){window.requestAnimationFrame(function(){e.html("Nouveau quota:"+t.val())})};t.mousemove(function(){a()})}),v.mouseup(function(){var t=$(this);t.unbind("mousemove")});var m=$(".body-price label"),g=$('.body-price input[type="radio"]'),b=$('.form-prices button[type="submit"]');g.each(function(){$(this).prop("checked")&&s($(this))}),g.click(function(t){s($(this))});var y=$(".payout a"),w=y.attr("href"),C=y.children("img"),k=C.attr("src"),x=k.split("_")[0]+"."+k.split(".")[k.split(".").length-1];y.attr("href",""),$("#approuve").change(function(t){$(this).prop("checked")?(y.removeClass("disable"),y.attr("href",w),C.attr("src",x)):(y.addClass("disable"),y.attr("href",""),C.attr("src",k))}),$("select[multiple]").select2(),String.prototype.trim||!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}(),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",r)}),[].slice.call(document.querySelectorAll("textarea.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",r)}),[].slice.call(document.querySelectorAll("select.input__field")).forEach(function(t){""!==t.value.trim()&&$(t).parent().addClass("input--filled"),$(t).attr("data-placeholder",$(t).attr("placeholder")),$(t).removeAttr("placeholder"),t.addEventListener("focus",n),t.addEventListener("blur",r)}),window.cookieconsent_options={message:"En poursuivant votre navigation sans modifier vos paramètres, vous acceptez l'utilisation des cookies ou technologies similaires pour disposer de services er d'offres adaptés à vos centres d'interêts ainsi que pour la sécurisation des transactions sur notre site.",dismiss:"OK",learnMore:"Plus d'info",link:"/mentions-legales",theme:null},$("#visite").click(function(t){t.preventDefault();var e=new introJs;e.setOptions({nextLabel:"suivant",prevLabel:"précédent",skipLabel:"passer",showStepNumbers:!0,showProgress:!0,scrollToElement:!0,doneLabel:"Sortir"}),e.start()})});